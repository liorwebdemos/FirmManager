<template>
  <form submit.delegate="setDepartmentWorkers()">
    <ux-dialog class="fm-modal">
      <ux-dialog-header>
        Department Workers
        <span class="font-normal">(Department #${selectedDepartment.id})</span>
      </ux-dialog-header>
      <ux-dialog-body>
        <div class="flex flex-col flex-wrap gap-y-3">
          <div>
            <span class="font-medium">Note: A worker can be placed only in one department at a time.</span>
            <br>
            As you select workers that currently belong to other departments,
            <br>
            they are moved out of them and placed instead inside of this department.
          </div>
          <div class="fm-table">
            <div class="body">
              <label repeat.for="uiWorker of uiWorkers" class="row">
                <div class="cell w-10">
                  <input type="checkbox" checked.bind="uiWorker.isChecked">
                  <!-- change.delegate="setUiWorkerCheckValue(uiWorker, $event.target.checked)" -->
                </div>
                <div class="cell w-20 text-gray-600">
                  (#${uiWorker.data.id})
                </div>
                <div class="cell w-32 flex-grow">
                  ${uiWorker.data.firstName}
                  ${uiWorker.data.lastName}
                </div>
                <div class="cell">
                  <span if.bind="uiWorker.data.departmentId">
                    Currently at department #${uiWorker.data.departmentId}
                  </span>
                  <span else>
                    Currently without department
                  </span>
                </div>
              </label>
            </div>
          </div>
        </div>
      </ux-dialog-body>
      <ux-dialog-footer class="flex flex-row justify-end items-center gap-x-3">
        <button type="button" class="fm-button !bg-orange-100" click.delegate="dialogController.cancel()">
          <i class="fas fa-times"></i>
          Close
        </button>
        <button type="submit" class="fm-button font-semibold !bg-green-100">
          <i class="fas fa-check"></i>
          Save Changes
        </button>
      </ux-dialog-footer>
    </ux-dialog>
  </form>
</template>
